/*! 11/29/2014*/
window.Displent=Ember.Application.create(),Displent.Router.map(function(){this.resource("users",function(){this.resource("user",{path:"/:user_id"},function(){})}),this.resource("profile",{path:"/profiles/:profile_id"},function(){}),this.resource("photoThumbnails",function(){this.resource("photoThumbnail",{path:"photoThumbnails/:photoThumbnail_id"},function(){})}),this.resource("photo",{path:"/photos/:photo_id"},function(){}),this.resource("search")}),Displent.ApplicationAdapter=DS.RESTAdapter.extend({host:"http://localhost:3223/api"}),Displent.Photo=DS.Model.extend({path:DS.attr("string"),title:DS.attr("string"),owner:DS.belongsTo("user",{async:!0}),location:DS.attr("string"),dateTaken:DS.attr("date"),focalLength:DS.attr("number"),tags:DS.attr()}),Displent.PhotoSerializer=DS.RESTSerializer.extend(DS.EmbeddedRecordsMixin,{attrs:{owner:{embedded:"load"}},normalizePayload:function(a){Ember.keys(a).forEach(function(b){var c=Ember.String.camelize(b);c!==b&&(a[c]=a[b],delete a[b])});var b={photo:a};return b}}),Displent.PhotoThumbnail=DS.Model.extend({path:DS.attr("string"),title:DS.attr("string"),owner:DS.belongsTo("user",{async:!0})}),Displent.PhotoThumbnailSerializer=DS.RESTSerializer.extend(DS.EmbeddedRecordsMixin,{attrs:{owner:{embedded:"always"}},normalizePayload:function(a){if(Array.isArray(a)){for(var b in a){var c=a[b];"object"==typeof c&&Ember.keys(c).forEach(function(a){if("owner"==a){var b=c[a];Ember.keys(b).forEach(function(a){var c=Ember.String.camelize(a);c!=a&&(b[c]=b[a],delete b[a])})}var d=Ember.String.camelize(a);d!=a&&(c[d]=c[a],delete c[a])})}var d={photoThumbnail:a};return d}}}),Displent.Profile=DS.Model.extend({firstName:DS.attr(),lastName:DS.attr(),profilePic:DS.attr(),membership:DS.attr(),memberSince:DS.attr(),themePic:DS.attr(),photo:DS.hasMany("photo",{async:!0})}),Displent.ProfileSerializer=DS.RESTSerializer.extend({attrs:{photo:{embedded:"always"}},serializeIntoHash:function(a,b,c,d){var e=this.serialize(c,d);Ember.keys(e).forEach(function(a){var b=Ember.String.underscore(a);b!=a&&(e[b]=e[a],delete e[a])}),console.log(e),Ember.merge(a,e)},normalizePayload:function(a){Ember.keys(a).forEach(function(b){var c=Ember.String.camelize(b);c!==b&&(a[c]=a[b],delete a[b])});var b={profile:a};return console.log(b),b}}),Displent.User=DS.Model.extend({firstName:DS.attr(),lastName:DS.attr(),profilePic:DS.attr(),membership:DS.attr()}),Displent.UserSerializer=DS.RESTSerializer.extend({normalizePayload:function(a){if(Array.isArray(a)){for(var b in a){var c=a[b];"object"==typeof c&&Ember.keys(c).forEach(function(a){var b=Ember.String.camelize(a);b!=a&&(c[b]=c[a],delete c[a])})}var d={user:a};return d}Ember.keys(a).forEach(function(b){var c=Ember.String.camelize(b);c!=b&&(a[c]=a[b],delete a[b])});var d={user:a};return d}}),Displent.PhotoRoute=Ember.Route.extend({model:function(a){var b=this.store.find("photo",a.photo_id);return console.log(b),b}}),Displent.PhotoThumbnailsRoute=Ember.Route.extend({model:function(){return this.store.find("photoThumbnail")}}),Displent.ProfileRoute=Ember.Route.extend({model:function(a){return console.log("params:"),console.log(a),console.log(this.store.find("profile",a.profile_id)),this.store.find("profile",a.profile_id)}}),Displent.SearchRoute=Ember.Route.extend({model:function(a){console.log("search query"),console.log(a)}}),Displent.UserRoute=Ember.Route.extend({afterModel:function(a){this.transitionTo("profile",a.id)}}),Displent.UsersRoute=Ember.Route.extend({model:function(){return this.store.find("user")}}),Displent.PhotoController=Ember.ObjectController.extend({defaultTag:null}),Displent.UsersController=Ember.ArrayController.extend({actions:{addPitre:function(){var a=this.store.createRecord("profile",{firstName:"Pitre",lastName:"Goud",profilePic:"ppics/4",membership:"Silver",themePic:"tpics/4"});a.save(),console.log("adding Pitre")}}});